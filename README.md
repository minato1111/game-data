# ROK Kingdom Data 分析ツール

Rise of Kingdoms ゲームデータの統計・分析を行うWebアプリケーションです。

## 🎉 v3.0 - シンプル・軽量化（2025年10月更新）

### 主な特徴
- ✅ **シンプルな構成** - 必要な機能だけを搭載したミニマルデザイン
- ✅ **高速表示** - 軽量化により、初期表示が高速
- ✅ **使いやすさ重視** - 直感的なナビゲーションと分かりやすいUI
- ✅ **共通ライブラリ** - コードの重複を削減し、保守性向上

### 利用可能なページ
1. **index.html** - ホーム（ランディングページ）
2. **dataList.html** - データ一覧（検索・フィルター・ソート・ページネーション）
3. **kvkList.html** - KVKノルマ一覧（45M以上対象、進捗バー表示）

## 🚀 主な機能

### データ一覧（dataList.html）
- 📊 プレイヤーデータの一覧表示
- 🔍 検索機能（名前・ID・同盟）
- 📅 期間フィルター（プリセット：最新/7日/30日/全期間）
- ⬆️⬇️ ソート機能（全列対応）
- 📄 ページネーション（50/100/300/500件）
- 📈 Power上位300位合計の統計表示

### KVKノルマ一覧（kvkList.html）
- 📋 45M以上のプレイヤーのKVKノルマ達成状況
- 🎯 Power帯別ノルマ基準値の表示
- 📊 進捗バー（撃破・戦死）
- 🔍 検索・フィルター機能
- ⬆️⬇️ カスタムソート機能
- ✓ 達成状況の一目確認

## 📁 ファイル構成

```
99.作業用/
├── index.html       # ホーム（ランディングページ）
├── dataList.html    # データ一覧ページ
├── dataList.js      # データ一覧用JavaScript
├── kvkList.html     # KVKノルマ一覧ページ
├── kvkList.js       # KVKノルマ一覧用JavaScript
├── common.js        # 共通関数ライブラリ
├── styles.css       # スタイルシート（全ページ共通）
├── Master_Data.csv  # プレイヤーデータ（約3.4MB）
└── README.md        # このファイル
```

## 🔧 技術仕様

### 使用技術
- **HTML5/CSS3/JavaScript (ES6+)**
- **PapaParse** - CSV解析ライブラリ
- **Chart.js** - グラフ表示（kvkList.htmlで使用）

### ブラウザ要件
- Chrome/Edge/Firefox/Safari（最新版推奨）
- JavaScript有効化必須

### 設定値（common.js）
```javascript
const DEBUG_MODE = false;        // デバッグモード（本番: false）
const CSV_FILE_PATH = 'Master_Data.csv';  // CSVファイルパス
const PERFORMANCE_CONFIG = {
    CACHE_DURATION: 300000,      // CSVキャッシュ時間（5分）
    CHUNK_SIZE: 1000,            // チャンク処理サイズ
    MAX_ERROR_DISPLAY: 5,        // 最大エラー表示数
    PAGINATION_SIZE: 50          // デフォルトページネーション
};
```

## 🚀 使い方

### ローカル環境
1. 全ファイルを同じフォルダに配置
2. `Master_Data.csv`が同じディレクトリにあることを確認
3. `index.html`をブラウザで開く

### Webサーバー
1. 全ファイルをWebサーバーにアップロード
2. ファイル構成を維持
3. ブラウザでURLにアクセス

## 🔍 トラブルシューティング

| 問題 | 解決方法 |
|------|----------|
| CSVファイルが読み込まれない | ファイル名が`Master_Data.csv`であることを確認<br>同じフォルダにあることを確認 |
| データが表示されない | ブラウザの開発者ツール（F12）でエラーを確認<br>JavaScriptが有効か確認 |
| 表示が遅い | `common.js`の`DEBUG_MODE`を`false`に設定<br>ブラウザのキャッシュをクリア |

## 📝 更新履歴

### v3.0（2025年10月14日）- シンプル化
- 🎯 必要な機能だけを残した軽量版
- ✨ データ一覧ページの独立化
- ✨ KVKノルマ一覧の機能強化（45M以上フィルター、列ソート修正）
- 🏠 ホームページの新設
- 📚 共通ライブラリ（common.js）の作成
- 🗑️ 旧統合ページの削除（シンプル化のため）

### v2.x（2025年10月以前）
- セキュリティ強化
- パフォーマンス最適化
- エラーハンドリング改善

### v1.0（初期版）
- 基本機能実装